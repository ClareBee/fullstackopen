{"version":3,"sources":["services/persons.js","components/filter.js","components/person_form.js","components/people.js","components/notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newPerson","post","id","updatedPerson","put","concat","oldPersonId","delete","Filter","props","react_default","a","createElement","Fragment","className","onChange","showNames","value","searchInput","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","People","_ref","people","deletePerson","map","person","index","key","name","number","onClick","e","Notification","message","style","content","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchInput","_useState9","_useState10","setMsg","useEffect","personService","console","log","notify","setTimeout","reset","filter","event","target","notification","person_form","preventDefault","personObject","personAlreadyThere","find","toUpperCase","catch","error","errorMsg","window","confirm","returnedPerson","err","components_people","match","clonePersons","toConsumableArray","personToDelete","filteredPersons","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.26301374.chunk.js","sourcesContent":["import axios from 'axios'\n// const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data)\n}\n\nconst update = (id, updatedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson)\n  return request.then(response => response.data)\n}\n\nconst destroy = oldPersonId => {\n  const request = axios.delete(`${baseUrl}/${oldPersonId}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, destroy }\n","import React from 'react'\n\nconst Filter = (props) => (\n  <React.Fragment>\n  <label>Filter shown with:</label>\n  <input className=\"form-input\" onChange={props.showNames} value={props.searchInput}/>\n  </React.Fragment>\n)\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => (\n  <form\n    onSubmit={props.addPerson}>\n    <div className=\"form-input\">\n      Name: <input\n        value={props.newName}\n        onChange={props.handleNameChange}/>\n    </div>\n    <div className=\"form-input\">\n      Number: <input\n        value={props.newNumber}\n        onChange={props.handleNumberChange}/>\n    </div>\n    <div>\n      <button type=\"submit\">ADD</button>\n    </div>\n  </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst People = ({people, deletePerson}) => (\n  people.map((person, index) =>\n    <div className=\"person\" key={person.name + person.index}>\n      <div>\n        <strong>{person.name} | {person.number}</strong>\n      </div>\n      <button\n        onClick={(e) => deletePerson(e, person.id)}\n        className=\"delete\"\n      >\n        Delete\n      </button>\n    </div>\n  )\n)\n\nexport default People\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if(message === null){\n    return null\n  }\n  const style = `notification ${message.type}`\n  return (\n    <div className={style}>\n      {message.content}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './App.css'\nimport Filter from './components/filter'\nimport PersonForm from './components/person_form'\nimport People from './components/people'\nimport Notification from './components/notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchInput, setSearchInput ] = useState('')\n  const [ message, setMsg ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        console.log(response)\n        setPersons(response)\n      })\n  }, [])\n\n  const notify = (type, content) => {\n    setMsg({ type, content })\n    setTimeout(() => {\n      setMsg(null)\n    }, 5000)\n  }\n\n  const reset = () => {\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = { name: newName, number: newNumber }\n    if(!newName || !newNumber){\n      notify('error', 'Please enter all requested info')\n      return null;\n    }\n    const personAlreadyThere = persons.find(person => person.name.toUpperCase() === newName.toUpperCase())\n    if (!!personAlreadyThere) {\n      const id = personAlreadyThere.id\n      if (window.confirm(`${personAlreadyThere.name} is already added to phonebook. Replace the old number with the new one?`)){\n        personService\n          .update(id, personObject)\n          .then(returnedPerson => {\n            console.log(returnedPerson)\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            notify('success', `${newName} successfully updated`)\n            reset()\n          })\n          .catch(err => {\n            notify('error', `${newName} was already deleted!`)\n            reset()\n          })\n      } else {\n        return null;\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          console.log(response)\n          setPersons(persons.concat(response))\n          notify('success', `${personObject.name} was added successfully!`)\n          reset()\n        })\n        .catch(error => {\n          const errorMsg = error.response.data\n          console.log(errorMsg)\n          notify('error', `${error}: ${errorMsg.error}`)\n        })\n      return null;\n    }\n  }\n\n  const deletePerson = (event, oldPersonId) => {\n    const clonePersons = [...persons]\n    const personToDelete = clonePersons.find(person => person.id === oldPersonId)\n    const filteredPersons = clonePersons.filter(person => person !== personToDelete)\n    event.preventDefault()\n    if(window.confirm(`Are you sure you want to delete ${personToDelete.name}`)){\n      console.log('id', oldPersonId)\n      console.log('person', personToDelete)\n      personService\n        .destroy(oldPersonId)\n        .then(response => {\n          console.log('response', response)\n          setPersons(filteredPersons)\n        })\n        .catch(err => {\n          notify('error', `${personToDelete.name} was already removed!`)\n        })\n    } else {\n      return null;\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const renderPeople = () => {\n    if (searchInput === ''){\n      return persons\n    }\n    else {\n     return persons\n      .filter(person => {\n        if (!person.name){\n          return null;\n        }\n        return person.name.toUpperCase().match(searchInput.toUpperCase())\n      })\n    }\n  }\n\n  const showNames = (event) => {\n    setSearchInput(event.target.value)\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Phonebook</h1>\n      <Filter\n        showNames={showNames}\n        searchInput={searchInput}\n      />\n\n      <h2>Add a New </h2>\n      <Notification message={message} />\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n      <h2>Numbers</h2>\n      <div>\n        <People\n          people={renderPeople()}\n          deletePerson={deletePerson}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}