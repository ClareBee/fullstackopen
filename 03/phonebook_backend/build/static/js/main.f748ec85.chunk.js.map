{"version":3,"sources":["services/persons.js","components/filter.js","components/person_form.js","components/people.js","components/notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newPerson","post","id","updatedPerson","put","concat","oldPersonId","delete","Filter","props","react_default","a","createElement","Fragment","className","onChange","showNames","value","searchInput","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","People","_ref","people","deletePerson","map","person","index","key","name","number","onClick","e","Notification","message","style","content","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchInput","_useState9","_useState10","setMsg","useEffect","personService","notify","setTimeout","reset","filter","event","target","notification","person_form","preventDefault","personObject","personAlreadyThere","find","toUpperCase","window","confirm","returnedPerson","catch","err","components_people","match","clonePersons","toConsumableArray","personToDelete","filteredPersons","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"0PAEMA,EAAU,eAqBDC,EAnBA,WAEb,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAiB5BL,EAdA,SAAAM,GAEb,OADgBL,IAAMM,KAAKR,EAASO,GACrBH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAY5BL,EATA,SAACQ,EAAIC,GAElB,OADgBR,IAAMS,IAAN,GAAAC,OAAaZ,EAAb,KAAAY,OAAwBH,GAAMC,GAC/BN,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAO5BL,EAJC,SAAAY,GAEd,OADgBX,IAAMY,OAAN,GAAAF,OAAgBZ,EAAhB,KAAAY,OAA2BC,IAC5BT,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCZ5BS,SAPA,SAACC,GAAD,OACbC,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACAH,EAAAC,EAAAC,cAAA,mCACAF,EAAAC,EAAAC,cAAA,SAAOE,UAAU,aAAaC,SAAUN,EAAMO,UAAWC,MAAOR,EAAMS,iBCgBzDC,EAnBI,SAACV,GAAD,OACjBC,EAAAC,EAAAC,cAAA,QACEQ,SAAUX,EAAMY,WAChBX,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cAAf,SACQJ,EAAAC,EAAAC,cAAA,SACJK,MAAOR,EAAMa,QACbP,SAAUN,EAAMc,oBAEpBb,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cAAf,WACUJ,EAAAC,EAAAC,cAAA,SACNK,MAAOR,EAAMe,UACbT,SAAUN,EAAMgB,sBAEpBf,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQc,KAAK,UAAb,UCESC,EAhBA,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,OAAQC,EAAVF,EAAUE,aAAV,OACbD,EAAOE,IAAI,SAACC,EAAQC,GAAT,OACTvB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SAASoB,IAAKF,EAAOG,KAAOH,EAAOC,OAChDvB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,cAASoB,EAAOG,KAAhB,MAAyBH,EAAOI,SAElC1B,EAAAC,EAAAC,cAAA,UACEyB,QAAS,SAACC,GAAD,OAAOR,EAAaQ,EAAGN,EAAO9B,KACvCY,UAAU,UAFZ,cCMSyB,EAZM,SAAAX,GAAiB,IAAdY,EAAcZ,EAAdY,QACtB,GAAe,OAAZA,EACD,OAAO,KAET,IAAMC,EAAK,gBAAApC,OAAmBmC,EAAQd,MACtC,OACEhB,EAAAC,EAAAC,cAAA,OAAKE,UAAW2B,GACbD,EAAQE,UCuIAC,EAxIH,WAAM,IAAAC,EACeC,mBAAS,IADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRK,EADQH,EAAA,GACCI,EADDJ,EAAA,GAAAK,EAEgBN,mBAAS,IAFzBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAER7B,EAFQ8B,EAAA,GAECC,EAFDD,EAAA,GAAAE,EAGoBT,mBAAS,IAH7BU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAGR9B,EAHQ+B,EAAA,GAGGC,EAHHD,EAAA,GAAAE,EAIwBZ,mBAAS,IAJjCa,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAIRvC,EAJQwC,EAAA,GAIKC,EAJLD,EAAA,GAAAE,EAKYf,mBAAS,MALrBgB,EAAAd,OAAAC,EAAA,EAAAD,CAAAa,EAAA,GAKRpB,EALQqB,EAAA,GAKCC,EALDD,EAAA,GAOhBE,oBAAU,WACRC,IAEGnE,KAAK,SAAAC,GACJoD,EAAWpD,MAEd,IAEH,IAAMmE,EAAS,SAACvC,EAAMgB,GACpBoB,EAAO,CAAEpC,OAAMgB,YACfwB,WAAW,WACTJ,EAAO,OACN,MAGCK,EAAQ,WACZd,EAAW,IACXG,EAAa,KAoFf,OACE9C,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAACwD,EAAD,CACEpD,UARY,SAACqD,GACjBV,EAAeU,EAAMC,OAAOrD,QAQxBC,YAAaA,IAGfR,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAC2D,EAAD,CAAc/B,QAASA,IACvB9B,EAAAC,EAAAC,cAAC4D,EAAD,CACElD,QAASA,EACTE,UAAWA,EACXD,iBAxCmB,SAAC8C,GACxBhB,EAAWgB,EAAMC,OAAOrD,QAwCpBQ,mBArCqB,SAAC4C,GAC1Bb,EAAaa,EAAMC,OAAOrD,QAqCtBI,UAhGY,SAACgD,GACjBA,EAAMI,iBACN,IAAMC,EAAe,CAAEvC,KAAMb,EAASc,OAAQZ,GAC9C,IAAIF,IAAYE,EAEd,OADAyC,EAAO,QAAS,mCACT,KAET,IAAMU,EAAqB1B,EAAQ2B,KAAK,SAAA5C,GAAM,OAAIA,EAAOG,KAAK0C,gBAAkBvD,EAAQuD,gBACxF,IAAMF,EAyBJ,OAPAX,EACUU,GACP7E,KAAK,SAAAC,GACJoD,EAAWD,EAAQ5C,OAAOqE,IAC1BT,EAAO,UAAD,GAAA5D,OAAeqE,EAAavC,KAA5B,6BACNgC,MAEG,KAxBP,IAAMjE,EAAKyE,EAAmBzE,GAC9B,IAAI4E,OAAOC,QAAP,GAAA1E,OAAkBsE,EAAmBxC,KAArC,6EAaF,OAAO,KAZP6B,EACU9D,EAAIwE,GACX7E,KAAK,SAAAmF,GACJ9B,EAAWD,EAAQlB,IAAI,SAAAC,GAAM,OAAIA,EAAO9B,KAAOA,EAAK8B,EAASgD,KAC7Df,EAAO,UAAD,GAAA5D,OAAeiB,EAAf,0BACN6C,MAEDc,MAAM,SAAAC,GACLjB,EAAO,QAAD,GAAA5D,OAAaiB,EAAb,0BACN6C,SA8ENzD,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACuE,EAAD,CACEtD,OAtCc,KAAhBX,EACK+B,EAGDA,EACLmB,OAAO,SAAApC,GACN,OAAKA,EAAOG,KAGLH,EAAOG,KAAK0C,cAAcO,MAAMlE,EAAY2D,eAF1C,OAgCP/C,aAjEa,SAACuC,EAAO/D,GAC3B,IAAM+E,EAAYtC,OAAAuC,EAAA,EAAAvC,CAAOE,GACnBsC,EAAiBF,EAAaT,KAAK,SAAA5C,GAAM,OAAIA,EAAO9B,KAAOI,IAC3DkF,EAAkBH,EAAajB,OAAO,SAAApC,GAAM,OAAIA,IAAWuD,IAEjE,GADAlB,EAAMI,kBACHK,OAAOC,QAAP,mCAAA1E,OAAkDkF,EAAepD,OAQlE,OAAO,KAPP6B,EACW1D,GACRT,KAAK,SAAAC,GAAQ,OAAIoD,EAAWsC,KAC5BP,MAAM,SAAAC,GACLjB,EAAO,QAAD,GAAA5D,OAAakF,EAAepD,KAA5B,kCC7EhBsD,IAASC,OAAOhF,EAAAC,EAAAC,cAAC+E,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.f748ec85.chunk.js","sourcesContent":["import axios from 'axios'\n// const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data)\n}\n\nconst update = (id, updatedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson)\n  return request.then(response => response.data)\n}\n\nconst destroy = oldPersonId => {\n  const request = axios.delete(`${baseUrl}/${oldPersonId}`)\n  return request.then(response => response.data)\n}\nexport default { getAll, create, update, destroy }\n","import React from 'react'\n\nconst Filter = (props) => (\n  <React.Fragment>\n  <label>Filter shown with:</label>\n  <input className=\"form-input\" onChange={props.showNames} value={props.searchInput}/>\n  </React.Fragment>\n)\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => (\n  <form\n    onSubmit={props.addPerson}>\n    <div className=\"form-input\">\n      Name: <input\n        value={props.newName}\n        onChange={props.handleNameChange}/>\n    </div>\n    <div className=\"form-input\">\n      Number: <input\n        value={props.newNumber}\n        onChange={props.handleNumberChange}/>\n    </div>\n    <div>\n      <button type=\"submit\">ADD</button>\n    </div>\n  </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst People = ({people, deletePerson}) => (\n  people.map((person, index) =>\n    <div className=\"person\" key={person.name + person.index}>\n      <div>\n        <strong>{person.name} | {person.number}</strong>\n      </div>\n      <button\n        onClick={(e) => deletePerson(e, person.id)}\n        className=\"delete\"\n      >\n        Delete\n      </button>\n    </div>\n  )\n)\n\nexport default People\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if(message === null){\n    return null\n  }\n  const style = `notification ${message.type}`\n  return (\n    <div className={style}>\n      {message.content}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './App.css'\nimport Filter from './components/filter'\nimport PersonForm from './components/person_form'\nimport People from './components/people'\nimport Notification from './components/notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchInput, setSearchInput ] = useState('')\n  const [ message, setMsg ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const notify = (type, content) => {\n    setMsg({ type, content })\n    setTimeout(() => {\n      setMsg(null)\n    }, 5000)\n  }\n\n  const reset = () => {\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = { name: newName, number: newNumber }\n    if(!newName || !newNumber){\n      notify('error', 'Please enter all requested info')\n      return null;\n    }\n    const personAlreadyThere = persons.find(person => person.name.toUpperCase() === newName.toUpperCase())\n    if (!!personAlreadyThere) {\n      const id = personAlreadyThere.id\n      if (window.confirm(`${personAlreadyThere.name} is already added to phonebook. Replace the old number with the new one?`)){\n        personService\n          .update(id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            notify('success', `${newName} successfully updated`)\n            reset()\n          })\n          .catch(err => {\n            notify('error', `${newName} was already deleted!`)\n            reset()\n          })\n      } else {\n        return null;\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(personObject))\n          notify('success', `${personObject.name} was added successfully!`)\n          reset()\n        })\n      return null;\n    }\n  }\n\n  const deletePerson = (event, oldPersonId) => {\n    const clonePersons = [...persons]\n    const personToDelete = clonePersons.find(person => person.id === oldPersonId)\n    const filteredPersons = clonePersons.filter(person => person !== personToDelete)\n    event.preventDefault()\n    if(window.confirm(`Are you sure you want to delete ${personToDelete.name}`)){\n      personService\n        .destroy(oldPersonId)\n        .then(response => setPersons(filteredPersons))\n        .catch(err => {\n          notify('error', `${personToDelete.name} was already removed!`)\n        })\n    } else {\n      return null;\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const renderPeople = () => {\n    if (searchInput === ''){\n      return persons\n    }\n    else {\n     return persons\n      .filter(person => {\n        if (!person.name){\n          return null;\n        }\n        return person.name.toUpperCase().match(searchInput.toUpperCase())\n      })\n    }\n  }\n\n  const showNames = (event) => {\n    setSearchInput(event.target.value)\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Phonebook</h1>\n      <Filter\n        showNames={showNames}\n        searchInput={searchInput}\n      />\n\n      <h2>Add a New </h2>\n      <Notification message={message} />\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n      <h2>Numbers</h2>\n      <div>\n        <People\n          people={renderPeople()}\n          deletePerson={deletePerson}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}